<header>
    <title>Login</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="./login.css">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</header>

<script>
    async function validateForm() {
      let value1 = document.getElementById("username").value;
      let value2 = document.getElementById("password").value;
      
        if (value1 == "") {
            swal("error", "Please enter a username", "error")
        }
        if (value2 == "") {
            swal("error", "Please enter a password", "error")
        }

        if(value1 && value2){
            const post = await axios.post("/api/login/", {
                name: value1 ? value1 : "",
                password: value2 ? value2 : "",
            }).catch(error => {
                console.log(error);
                swal("error", "Invalid detalis", "error")
            });
            if(post.status == 200){
                swal("success", "Logging in!", "success")
                
                console.log(post.data);
                localStorage.setItem(
                "LOCALHOST_KEY",
                JSON.stringify(post.data.user)                
              );
            }
        }

    }
</script>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-2"></div>
            <div class="col-lg-6 col-md-8 login-box">
                <div class="col-lg-12 login-key">
                    <i class="fa fa-key" aria-hidden="true"></i>
                </div>
                <div class="col-lg-12 login-title">
                    Login
                </div>

                <div class="col-lg-12 login-form">
                    <div class="col-lg-12 login-form">
                        <form>
                            <div class="form-group">
                                <label class="form-control-label">USERNAME</label>
                                <input type="text" id="username" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-control-label">PASSWORD</label>
                                <input type="password" id="password" class="form-control" i>
                            </div>

                            <div class="col-lg-12 loginbttm">
                                <div class="col-lg-6 login-btm login-text">
                                    <!-- Error Message -->
                                </div>
                                <div class="col-lg-6 login-btm login-button">
                                    <button href="/register" type="button" class="btn btn-outline-primary">Sign up</button>
                                    <button onclick="validateForm()" type="button" class="btn btn-outline-primary">LOGIN</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-3 col-md-2"></div>
            </div>
        </div>